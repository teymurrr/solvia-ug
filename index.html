
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Solvia</title>
    <meta name="description" content="Connecting qualified medical professionals with hospitals and clinics" />
    <meta name="author" content="Solvia" />

    <meta property="og:title" content="Solvia" />
    <meta property="og:description" content="Connecting qualified medical professionals with hospitals and clinics" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/lovable-uploads/eb689b9e-7e70-4fb2-8ffb-50d9ef2c373a.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@solvia" />
    <meta name="twitter:image" content="/lovable-uploads/eb689b9e-7e70-4fb2-8ffb-50d9ef2c373a.png" />
    
    <!-- Critical resource hints for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    
    <!-- Preload only critical resources -->
    <link rel="preload" href="/src/main.tsx" as="script" />
    <link rel="modulepreload" href="/src/pages/Index.tsx" />
    <link rel="modulepreload" href="/src/components/landing/HeroSection.tsx" />
    
    <!-- Content Security Policy for XSS protection -->
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com;
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
      font-src 'self' https://fonts.gstatic.com;
      img-src 'self' data: https: blob:;
      connect-src 'self' https://api.supabase.io https://*.supabase.co https://www.google-analytics.com;
      media-src 'self' blob:;
      object-src 'none';
      base-uri 'self';
      form-action 'self';
      frame-ancestors 'none';
      upgrade-insecure-requests;
    ">
    
    <!-- Critical CSS for above-the-fold content with aggressive compression -->
    <style>
      /* Critical CSS compressed and optimized */
      body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto',sans-serif;font-display:swap}
      .hero-gradient{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
      .min-h-screen{min-height:100vh}
      .flex{display:flex}
      .flex-col{flex-direction:column}
      .flex-grow{flex-grow:1}
      .pt-20{padding-top:5rem}
      .container{width:100%;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem}
      @media (min-width:640px){.container{max-width:640px}}
      @media (min-width:768px){.container{max-width:768px}}
      @media (min-width:1024px){.container{max-width:1024px}}
      @media (min-width:1280px){.container{max-width:1280px}}
      @media (min-width:1536px){.container{max-width:1536px}}
      .text-5xl{font-size:3rem;line-height:1}
      .font-bold{font-weight:700}
      .text-center{text-align:center}
      .text-gray-900{color:rgb(17 24 39)}
      .leading-tight{line-height:1.25}
      .text-\[42px\]{font-size:42px;contain:layout style}
      .animate-pulse{animation:pulse 2s cubic-bezier(0.4,0,0.6,1) infinite}
      @keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
      .bg-gray-50{background-color:rgb(249 250 251)}
      .h-64{height:16rem}
      .h-80{height:20rem}
      .h-96{height:24rem}
      .bg-white{background-color:rgb(255 255 255)}
      .bg-blue-50{background-color:rgb(239 246 255)}
      .bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}
      .from-blue-600{--tw-gradient-from:#2563eb;--tw-gradient-to:rgb(37 99 235/0);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}
      .to-blue-700{--tw-gradient-to:#1d4ed8}
      /* Mobile-first optimizations */
      @media (max-width:768px){
        .text-\[42px\]{font-size:32px}
        .container{padding-left:0.75rem;padding-right:0.75rem}
      }
      /* Image optimization styles */
      img{image-rendering:auto;image-rendering:crisp-edges;image-rendering:-webkit-optimize-contrast}
      picture{display:block;width:100%}
      /* Reduce layout shifts */
      .aspect-ratio{position:relative;width:100%}
      .aspect-ratio::before{content:"";display:block;padding-top:var(--aspect-ratio,56.25%)}
      .aspect-ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}
    </style>
  </head>

  <body>
    <div id="root"></div>
    
    <!-- Load non-critical CSS asynchronously with compression support -->
    <link rel="preload" href="/src/index.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/src/index.css"></noscript>
    
    <!-- Main application script with compression hints -->
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Defer Service Worker Registration until after critical content loads -->
    <script>
      window.addEventListener('load', () => {
        setTimeout(() => {
          if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js', {
              scope: '/',
              updateViaCache: 'imports'
            })
              .then((registration) => {
                console.log('SW registered: ', registration);
                // Enable background sync for offline support
                if ('sync' in window.ServiceWorkerRegistration.prototype) {
                  registration.sync.register('background-sync');
                }
              })
              .catch((registrationError) => {
                console.log('SW registration failed: ', registrationError);
              });
          }
        }, 1000);
      });
    </script>
    
    <!-- Defer Google Analytics until after user interaction or 3 seconds -->
    <script>
      let gaLoaded = false;
      
      function loadGA() {
        if (gaLoaded) return;
        gaLoaded = true;
        
        const gaScript = document.createElement('script');
        gaScript.async = true;
        gaScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-JEZQDDWEWX';
        gaScript.setAttribute('data-cfasync', 'false'); // Optimize for compression
        document.head.appendChild(gaScript);
        
        gaScript.onload = function() {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-JEZQDDWEWX', {
            send_page_view: false // Reduce initial payload
          });
        };
      }
      
      // Load GA after user interaction
      ['click', 'scroll', 'keydown', 'touchstart'].forEach(event => {
        document.addEventListener(event, loadGA, { once: true, passive: true });
      });
      
      // Fallback: load GA after 3 seconds if no interaction
      setTimeout(loadGA, 3000);
    </script>
    
    <!-- Resource hints for performance -->
    <link rel="prefetch" href="/src/pages/About.tsx" />
    <link rel="prefetch" href="/src/pages/Contact.tsx" />
    <link rel="dns-prefetch" href="https://api.supabase.io" />
  </body>
</html>
