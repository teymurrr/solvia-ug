
# Apache configuration for cache control and expires headers

<IfModule mod_expires.c>
    ExpiresActive On
    
    # HTML files - 1 hour
    ExpiresByType text/html "access plus 1 hour"
    
    # JavaScript and CSS - 1 year
    ExpiresByType application/javascript "access plus 1 year"
    ExpiresByType text/javascript "access plus 1 year"
    ExpiresByType text/css "access plus 1 year"
    
    # Images - 1 year
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType image/webp "access plus 1 year"
    ExpiresByType image/avif "access plus 1 year"
    
    # Fonts - 1 year
    ExpiresByType font/woff "access plus 1 year"
    ExpiresByType font/woff2 "access plus 1 year"
    ExpiresByType application/font-woff "access plus 1 year"
    ExpiresByType application/font-woff2 "access plus 1 year"
    ExpiresByType font/ttf "access plus 1 year"
    ExpiresByType font/otf "access plus 1 year"
    ExpiresByType application/x-font-ttf "access plus 1 year"
    
    # Manifest and favicon - 1 week
    ExpiresByType application/manifest+json "access plus 1 week"
    ExpiresByType image/x-icon "access plus 1 week"
    
    # Service worker - 1 day
    <Files "sw.js">
        ExpiresDefault "access plus 1 day"
    </Files>
</IfModule>

<IfModule mod_headers.c>
    # Add immutable flag for static assets
    <FilesMatch "\.(js|css|png|jpg|jpeg|gif|svg|webp|avif|woff|woff2|ttf|otf)$">
        Header set Cache-Control "public, max-age=31536000, immutable"
    </FilesMatch>
    
    # HTML files cache control
    <FilesMatch "\.(html)$">
        Header set Cache-Control "public, max-age=3600, must-revalidate"
    </FilesMatch>
    
    # Service worker cache control
    <Files "sw.js">
        Header set Cache-Control "public, max-age=86400"
    </Files>
    
    # Manifest cache control
    <Files "manifest.json">
        Header set Cache-Control "public, max-age=604800"
    </Files>
</IfModule>
